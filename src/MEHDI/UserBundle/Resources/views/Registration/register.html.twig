{# src/OC/UserBundle/Resources/views/layout.html.twig #}

{# On étend notre layout #}
{% extends "MehdiUserBundle::layout.html.twig" %}
{#On ne met pas le chemin complet car ce fichier ne se trouve pas dans notre Bundle#}

{# Dans notre layout, il faut définir le block body #}
{% block body %}
	{% block titre_page %}
		<h1>Inscription</h1><hr/>
	{% endblock %}

  {# On affiche les messages flash que définissent les contrôleurs du bundle #}
  {% for key, message in app.session.flashbag.all() %}
    <div class="alert alert-{{ key }}">
      {{ message|trans({}, 'FOSUserBundle') }}
    </div>
  {% endfor %}

  {# On définit ce block, dans lequel vont venir s'insérer les autres vues du bundle #}
  {% block fos_user_content %}
  {{form_start(form, {'attr': {'class': 'form-horizontal'}})}}
	<div class="form-group">
      {# Génération du label. #}
      {{ form_label(form.email, "Adresse e-mail", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
      {# Affichage des erreurs pour ce champ précis. #}
      <div class="col-sm-4">
        {# Génération de l'input. #}
        {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
		<span class="text-danger">{{ form_errors(form.email) }}</span>
      </div>
    </div>
	<div class="form-group">
      {# Génération du label. #}
      {{ form_label(form.username, "Nom d'utilisateur", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
      {# Affichage des erreurs pour ce champ précis. #}
      <div class="col-sm-4">
        {# Génération de l'input. #}
        {{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
		<span class="text-danger">{{ form_errors(form.username) }}</span>
      </div>
    </div>
	<div class="form-group">
      {# Génération du label. #}
      {{ form_label(form.plainPassword.first, "Mot de passe", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
      {# Affichage des erreurs pour ce champ précis. #}
      <div class="col-sm-4">
        {# Génération de l'input. #}
        {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control'}}) }}
		<span class="text-danger">{{ form_errors(form.plainPassword.first) }}</span>
      </div>
    </div>
	<div class="form-group">
      {# Génération du label. #}
      {{ form_label(form.plainPassword.second, "Confirmer mot de passe", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
      {# Affichage des erreurs pour ce champ précis. #}
      <div class="col-sm-4">
        {# Génération de l'input. #}
        {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control'}}) }}
		<span class="text-danger">{{ form_errors(form.plainPassword.second) }}</span>
      </div>
    </div>
	<div class="form-group">
      {# Génération du label. #}
      {{ form_label(form.adresse, "Adresse", {'label_attr': {'class': 'col-sm-3 control-label'}}) }}
      {# Affichage des erreurs pour ce champ précis. #}
      <div class="col-sm-4">
        {# Génération de l'input. #}
        {{ form_widget(form.adresse, {'attr': {'class': 'form-control'}}) }}
		<span class="text-danger">{{ form_errors(form.adresse) }}</span>
      </div>
    </div>	
	{{ form_rest(form)}} {#Ajout des champs manquants éventuels#}
	<div class="form-group">
      <div class="col-sm-offset-3 col-sm-5">
		<input class="btn btn-primary" type="submit" value="{{ 'Confirmer' }}" />
      </div>
    </div>
  {{form_end(form)}}
  {% endblock fos_user_content %}

{% endblock %}